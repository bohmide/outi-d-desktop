<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:controller="controllers.ForgotPasswordController"
            style="-fx-background-color: white;" fx:id="rootPane">

    <!-- Fond bleu à gauche avec logo et slogan -->
    <StackPane layoutX="0" layoutY="0" prefWidth="800" prefHeight="1000">
        <!-- Rectangle de fond -->
        <Rectangle width="800" height="1000" fill="#3498db" arcWidth="20" arcHeight="20"/>

        <!-- Contenu superposé -->
        <VBox alignment="CENTER" spacing="30" style="-fx-padding: 100;">
            <!-- Logo -->
            <ImageView fitWidth="300" fitHeight="300" preserveRatio="true">
                <Image url="@/assets/LOGO.png"/>
            </ImageView>

            <!-- Slogan -->
            <VBox alignment="CENTER" spacing="10">
                <Label text="A new way of learning" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Label text="Reset your password securely" style="-fx-font-size: 18px; -fx-text-fill: rgba(255,255,255,0.9);"/>
            </VBox>
        </VBox>
    </StackPane>

    <!-- Formulaire de réinitialisation à droite -->
    <VBox alignment="CENTER" spacing="25" layoutX="1000" layoutY="100" prefWidth="400" prefHeight="600"
          style="-fx-background-color: white; -fx-padding: 50; -fx-border-radius: 15; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);">

        <!-- Titre principal -->
        <Label text="Password Reset" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

        <!-- Champ email -->
        <VBox spacing="8" style="-fx-padding: 0 25;">
            <Label text="Email Address" style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 14px;"/>
            <TextField fx:id="emailField" promptText="Enter your email"
                       style="-fx-pref-width: 350; -fx-pref-height: 50;
                              -fx-background-radius: 8; -fx-border-radius: 8;
                              -fx-border-color: #bdc3c7; -fx-padding: 0 15;
                              -fx-font-size: 15px;"/>
        </VBox>

        <!-- Bouton d'envoi de code -->
        <Button text="Send Verification Code" onAction="#sendResetCode"
                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;
                       -fx-font-size: 14px; -fx-pref-width: 350; -fx-pref-height: 45;
                       -fx-background-radius: 8; -fx-cursor: hand;"/>

        <!-- Champ code de vérification -->
        <VBox spacing="8" style="-fx-padding: 0 25;">
            <Label text="Verification Code" style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 14px;"/>
            <TextField fx:id="codeField" promptText="Enter the code received"
                       style="-fx-pref-width: 350; -fx-pref-height: 50;
                              -fx-background-radius: 8; -fx-border-radius: 8;
                              -fx-border-color: #bdc3c7; -fx-padding: 0 15;
                              -fx-font-size: 15px;"/>
        </VBox>

        <!-- Nouveau mot de passe -->
        <VBox spacing="8" style="-fx-padding: 0 25;">
            <Label text="New Password" style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 14px;"/>
            <PasswordField fx:id="newPasswordField" promptText="Enter your new password"
                           style="-fx-pref-width: 350; -fx-pref-height: 50;
                                  -fx-background-radius: 8; -fx-border-radius: 8;
                                  -fx-border-color: #bdc3c7; -fx-padding: 0 15;
                                  -fx-font-size: 15px;"/>
        </VBox>

        <!-- Bouton de réinitialisation -->
        <Button text="Reset Password" onAction="#resetPassword"
                style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold;
                       -fx-font-size: 14px; -fx-pref-width: 350; -fx-pref-height: 45;
                       -fx-background-radius: 8; -fx-cursor: hand;"/>

        <!-- Message de statut -->
        <Label fx:id="statusLabel" style="-fx-text-fill: #e74c3c; -fx-font-weight: bold; -fx-font-size: 13px; -fx-wrap-text: true;" prefWidth="350"/>

    </VBox>
</AnchorPane>