<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>


<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:controller="controllers.LoginController"
            style="-fx-background-color: white;" fx:id="rootPane">

    <!-- Fond bleu à gauche -->
    <Rectangle fx:id="blueBackground" width="800" height="1000" fill="#3498db"
               arcWidth="20" arcHeight="20"
               layoutX="0" layoutY="0"/>
    <!-- Fond bleu à gauche avec logo et slogan -->
    <StackPane layoutX="0" layoutY="0" prefWidth="800" prefHeight="1000">
        <!-- Rectangle de fond -->
        <Rectangle width="800" height="1000" fill="#3498db" arcWidth="20" arcHeight="20"/>

        <!-- Contenu superposé -->
        <VBox alignment="CENTER" spacing="30" style="-fx-padding: 100;">
            <!-- Logo -->
            <ImageView fitWidth="300" fitHeight="300" preserveRatio="true">
                <Image url="@/assets/LOGO.png"/> <!-- Chemin vers votre logo -->
            </ImageView>

            <!-- Slogan -->
            <VBox alignment="CENTER" spacing="10">
                <Label text="A new way of learning" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Label text="Don't miss the opportunity" style="-fx-font-size: 18px; -fx-text-fill: rgba(255,255,255,0.9);"/>
            </VBox>
        </VBox>
    </StackPane>
    <!-- Conteneur principal pour le formulaire à droite -->
    <VBox alignment="CENTER" spacing="20" layoutX="1000" layoutY="70" prefWidth="300" prefHeight="500">
        <!-- Titre principal -->
        <Label text="Welcome !" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />

    <VBox alignment="CENTER" spacing="25" style="-fx-background-color: white; -fx-padding: 40; -fx-border-radius: 10; -fx-background-radius: 10;">

        <!-- Champ email -->
        <VBox spacing="5" style="-fx-padding: 0 20;">
            <Label text="Email Address" style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 14px;"/>
            <TextField fx:id="emailField" promptText="Enter your email"
                       style="-fx-pref-width: 320; -fx-pref-height: 50;
                    -fx-background-radius: 8; -fx-border-radius: 8;
                    -fx-border-color: #bdc3c7; -fx-padding: 0 15;
                    -fx-font-size: 15px;"/>
        </VBox>

        <!-- Champ mot de passe -->
        <VBox spacing="5" style="-fx-padding: 0 20;">
            <Label text="Password" style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 14px;"/>
            <PasswordField fx:id="passwordField" promptText="Enter your password"
                           style="-fx-pref-width: 320; -fx-pref-height: 50;
                        -fx-background-radius: 8; -fx-border-radius: 8;
                        -fx-border-color: #bdc3c7; -fx-padding: 0 15;
                        -fx-font-size: 15px;"/>
        </VBox>

        <!-- Captcha -->
        <VBox spacing="10" style="-fx-padding: 0 20;">
            <Label text="Verification Code" style="-fx-font-weight: bold; -fx-text-fill: #34495e;"/>
            <HBox spacing="15" alignment="CENTER_LEFT">
                <TextField fx:id="captchaField" promptText="Enter the code" style="-fx-pref-width: 180; -fx-pref-height: 40; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #bdc3c7; -fx-padding: 0 10;"/>
                <Button onAction="#refreshCaptcha" style="-fx-background-color: transparent; -fx-border-color: #3498db; -fx-border-radius: 5; -fx-padding: 10;">
                    <graphic>
                        <ImageView fitWidth="20" fitHeight="20">
                            <Image url="@/assets/refresh-icon.png"/>
                        </ImageView>
                    </graphic>
                </Button>
            </HBox>
            <Label fx:id="captchaLabel" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #3498db; -fx-background-color: #f8f9fa; -fx-padding: 8 15; -fx-background-radius: 5;"/>
        </VBox>

        <!-- Options -->
        <HBox alignment="CENTER_RIGHT" style="-fx-padding: 0 20;">
            <Hyperlink text="Forgot Password?" onAction="#ForgotPassword" style="-fx-text-fill: #7f8c8d; -fx-font-size: 13px; -fx-border-color: transparent;"/>
        </HBox>

        <!-- Bouton de connexion -->
        <Button text="Login" onAction="#handleLogin" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-pref-width: 280; -fx-pref-height: 45; -fx-background-radius: 5; -fx-cursor: hand;"/>

        <!-- Séparateur -->
        <HBox alignment="CENTER" spacing="10" style="-fx-padding: 0 20;">
            <Line style="-fx-stroke: #ecf0f1; -fx-stroke-width: 1;" endX="100"/>
            <Label text="OR" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;"/>
            <Line style="-fx-stroke: #ecf0f1; -fx-stroke-width: 1;" endX="100"/>
        </HBox>

        <!-- Inscription -->
        <HBox alignment="CENTER" spacing="5" style="-fx-padding: 10 0;">
            <Label text="Don't have an account?" style="-fx-text-fill: #7f8c8d; -fx-font-size: 13px;"/>
            <Hyperlink text="Sign up" onAction="#goToSignup" style="-fx-text-fill: #3498db; -fx-font-size: 13px; -fx-font-weight: bold; -fx-border-color: transparent;"/>
        </HBox>

        <!-- Message d'erreur -->
        <Label fx:id="errorLabel" style="-fx-text-fill: #e74c3c; -fx-font-weight: bold; -fx-font-size: 13px; -fx-padding: 0 20;"/>
    </VBox>
    </VBox>
    <!-- Bouton Admin (positionné en haut à droite) -->
    <Button fx:id="adminButton" text="Admin" onAction="#goToAdminPanel"
            layoutX="20" layoutY="20" style="-fx-background-color: #2c3e50; -fx-text-fill: white;"/>
</AnchorPane>